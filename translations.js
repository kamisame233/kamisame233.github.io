// Translation table for Hainan Jiangshuo Industrial Co., Ltd. website
// English to Chinese translations

const translations = {
  'en': {
    // Navigation
    'Services': 'Services',
    'About': 'About', 
    'Contact': 'Contact',
    'Cart': 'Cart',
    'Book now': 'Book now',
    
    // Company name
    'Hainan Jiangshuo Industrial Co., Ltd.': 'Hainan Jiangshuo Industrial Co., Ltd.',
    
    // Language picker
    'English': 'English',
    'Chinese': 'Chinese',
    
    // Menu items
    'Open Menu': 'Open Menu',
    'Close Menu': 'Close Menu',
    'Back': 'Back',
    'Skip to Content': 'Skip to Content',
    
    // Homepage content
    'Sign up with your email address to receive news and updates.': 'Sign up with your email address to receive news and updates.',
    'Email Address': 'Email Address',
    'Sign Up': 'Sign Up',
    'Thank you!': 'Thank you!',
    
    // Hero section
    'Where global quality meets local expertise.': 'Where global quality meets local expertise.',
    'Our team handles import, logistics, and in-store retailing. From customs clearance to retail shelves, we provide full-service solutions to help global brands succeed in Hainan\'s Free Trade Port.': 'Our team handles import, logistics, and in-store retailing. From customs clearance to retail shelves, we provide full-service solutions to help global brands succeed in Hainan\'s Free Trade Port.',
    'Learn more': 'Learn more',
    
    // About page content
    'About &mdash; Hainan Jiangshuo Industrial Co., Ltd.': 'About &mdash; Hainan Jiangshuo Industrial Co., Ltd.',
    'Hainan Jiangshuo Industrial Co., Ltd. is a trade and distribution company based in the Hainan Free Trade Port, China. We help international brands enter the Chinese market by managing import logistics, customs clearance, and in-store retail operations.': 'Hainan Jiangshuo Industrial Co., Ltd. is a trade and distribution company based in the Hainan Free Trade Port, China. We help international brands enter the Chinese market by managing import logistics, customs clearance, and in-store retail operations.',
    'With direct access to China\'s most open policy zone, we specialize in making global products locally availableâ€”efficiently, compliantly, and with care. From premium consumer goods to niche outdoor brands, we work closely with partners to deliver long-term value through tailored go-to-market strategies.': 'With direct access to China\'s most open policy zone, we specialize in making global products locally availableâ€”efficiently, compliantly, and with care. From premium consumer goods to niche outdoor brands, we work closely with partners to deliver long-term value through tailored go-to-market strategies.',
    'Whether you\'re exploring market entry or looking for a reliable local distributor, our team is here to bridge the gap between global quality and Chinese opportunity.': 'Whether you\'re exploring market entry or looking for a reliable local distributor, our team is here to bridge the gap between global quality and Chinese opportunity.',
    
    // Services page content
    'Services &mdash; Hainan Jiangshuo Industrial Co., Ltd.': 'Services &mdash; Hainan Jiangshuo Industrial Co., Ltd.',
    'Services we offer': 'Services we offer',
    
    // Contact page content
    'Contact us': 'Contact us',
    'Interested in working together? Fill out some info and we will be in touch shortly. We can\'t wait to hear from you!': 'Interested in working together? Fill out some info and we will be in touch shortly. We can\'t wait to hear from you!',
    
    // Form elements
    'Submit': 'Submit',
    'First Name': 'First Name',
    'Last Name': 'Last Name',
    'Email': 'Email',
    'Phone': 'Phone',
    'Message': 'Message',
    'Address Line 1': 'Address Line 1',
    'Address Line 2': 'Address Line 2',
    'City / Town': 'City / Town',
    'Postcode': 'Postcode',
    'Country': 'Country',
    'State/Province': 'State/Province',
    'Zip/Postal Code': 'Zip/Postal Code',
    
    // Validation messages
    'A valid selection must be made.': 'A valid selection must be made.',
    'Must be a valid URL.': 'Must be a valid URL.',
    'Value should have a length no longer than {0}.': 'Value should have a length no longer than {0}.',
    'Email addresses should follow the format user@domain.com.': 'Email addresses should follow the format user@domain.com.',
    '{0} is required.': '{0} is required.',
    'Please fill out at least one form field.': 'Please fill out at least one form field.',
    'Captcha validation failed. Please try again.': 'Captcha validation failed. Please try again.',
    'Unable to submit form. Please try again later.': 'Unable to submit form. Please try again later.',
    'Invalid form data.': 'Invalid form data.',
    'Form submission failed. Review the following information: {0}.': 'Form submission failed. Review the following information: {0}.'
  },
  
  'zh': {
    // Navigation
    'Services': 'æœåŠ¡',
    'About': 'å…³äºŽæˆ‘ä»¬',
    'Contact': 'è”ç³»æˆ‘ä»¬',
    'Cart': 'è´­ç‰©è½¦',
    'Book now': 'ç«‹å³é¢„è®¢',
    
    // Company name
    'Hainan Jiangshuo Industrial Co., Ltd.': 'æµ·å—æ±Ÿç¡•å®žä¸šæœ‰é™å…¬å¸',
    
    // Language picker
    'English': 'English',
    'Chinese': 'ä¸­æ–‡',
    
    // Menu items
    'Open Menu': 'æ‰“å¼€èœå•',
    'Close Menu': 'å…³é—­èœå•',
    'Back': 'è¿”å›ž',
    'Skip to Content': 'è·³è½¬åˆ°å†…å®¹',
    
    // Homepage content
    'Sign up with your email address to receive news and updates.': 'æ³¨å†Œæ‚¨çš„ç”µå­é‚®ä»¶åœ°å€ä»¥æŽ¥æ”¶æ–°é—»å’Œæ›´æ–°ã€‚',
    'Email Address': 'ç”µå­é‚®ä»¶åœ°å€',
    'Sign Up': 'æ³¨å†Œ',
    'Thank you!': 'è°¢è°¢ï¼',
    
    // Hero section
    'Where global quality meets local expertise.': 'å…¨çƒå“è´¨ä¸Žæœ¬åœ°ä¸“ä¸šçŸ¥è¯†çš„å®Œç¾Žç»“åˆã€‚',
    'Our team handles import, logistics, and in-store retailing. From customs clearance to retail shelves, we provide full-service solutions to help global brands succeed in Hainan\'s Free Trade Port.': 'æˆ‘ä»¬çš„å›¢é˜Ÿå¤„ç†è¿›å£ã€ç‰©æµå’Œåº—å†…é›¶å”®ä¸šåŠ¡ã€‚ä»Žæ¸…å…³åˆ°é›¶å”®è´§æž¶ï¼Œæˆ‘ä»¬æä¾›å…¨æ–¹ä½æœåŠ¡è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©å…¨çƒå“ç‰Œåœ¨æµ·å—è‡ªç”±è´¸æ˜“æ¸¯å–å¾—æˆåŠŸã€‚',
    'Learn more': 'äº†è§£æ›´å¤š',
    
    // About page content
    'About &mdash; Hainan Jiangshuo Industrial Co., Ltd.': 'å…³äºŽæˆ‘ä»¬ â€” æµ·å—æ±Ÿç¡•å®žä¸šæœ‰é™å…¬å¸',
    'Hainan Jiangshuo Industrial Co., Ltd. is a trade and distribution company based in the Hainan Free Trade Port, China. We help international brands enter the Chinese market by managing import logistics, customs clearance, and in-store retail operations.': 'æµ·å—æ±Ÿç¡•å®žä¸šæœ‰é™å…¬å¸æ˜¯ä¸€å®¶ä½äºŽä¸­å›½æµ·å—è‡ªç”±è´¸æ˜“æ¸¯çš„è´¸æ˜“å’Œåˆ†é”€å…¬å¸ã€‚æˆ‘ä»¬é€šè¿‡ç®¡ç†è¿›å£ç‰©æµã€æ¸…å…³å’Œåº—å†…é›¶å”®ä¸šåŠ¡ï¼Œå¸®åŠ©å›½é™…å“ç‰Œè¿›å…¥ä¸­å›½å¸‚åœºã€‚',
    'With direct access to China\'s most open policy zone, we specialize in making global products locally availableâ€”efficiently, compliantly, and with care. From premium consumer goods to niche outdoor brands, we work closely with partners to deliver long-term value through tailored go-to-market strategies.': 'å‡­å€Ÿå¯¹ä¸­å›½æœ€å¼€æ”¾æ”¿ç­–åŒºåŸŸçš„ç›´æŽ¥è®¿é—®ï¼Œæˆ‘ä»¬ä¸“æ³¨äºŽé«˜æ•ˆã€åˆè§„ã€è°¨æ…Žåœ°è®©å…¨çƒäº§å“åœ¨å½“åœ°å¯ç”¨ã€‚ä»Žé«˜ç«¯æ¶ˆè´¹å“åˆ°å°ä¼—æˆ·å¤–å“ç‰Œï¼Œæˆ‘ä»¬ä¸Žåˆä½œä¼™ä¼´å¯†åˆ‡åˆä½œï¼Œé€šè¿‡é‡èº«å®šåˆ¶çš„å¸‚åœºè¿›å…¥ç­–ç•¥æä¾›é•¿æœŸä»·å€¼ã€‚',
    'Whether you\'re exploring market entry or looking for a reliable local distributor, our team is here to bridge the gap between global quality and Chinese opportunity.': 'æ— è®ºæ‚¨æ˜¯åœ¨æŽ¢ç´¢å¸‚åœºè¿›å…¥è¿˜æ˜¯å¯»æ‰¾å¯é çš„æœ¬åœ°åˆ†é”€å•†ï¼Œæˆ‘ä»¬çš„å›¢é˜Ÿéƒ½åœ¨è¿™é‡Œæž¶èµ·å…¨çƒå“è´¨ä¸Žä¸­å›½æœºé‡ä¹‹é—´çš„æ¡¥æ¢ã€‚',
    
    // Services page content
    'Services &mdash; Hainan Jiangshuo Industrial Co., Ltd.': 'æœåŠ¡ â€” æµ·å—æ±Ÿç¡•å®žä¸šæœ‰é™å…¬å¸',
    'Services we offer': 'æˆ‘ä»¬æä¾›çš„æœåŠ¡',
    'We offer end-to-end solutions for international brands looking to enter the Chinese market via Hainan Free Trade Port.': 'æˆ‘ä»¬ä¸ºå¸Œæœ›é€šè¿‡æµ·å—è‡ªç”±è´¸æ˜“æ¸¯è¿›å…¥ä¸­å›½å¸‚åœºçš„å›½é™…å“ç‰Œæä¾›ç«¯åˆ°ç«¯è§£å†³æ–¹æ¡ˆã€‚',
    'We assist with smooth and compliant import procedures, including bonded warehouse options and zero-tariff entry under Hainan Free Trade Port policies.': 'æˆ‘ä»¬ååŠ©é¡ºåˆ©åˆè§„çš„è¿›å£ç¨‹åºï¼ŒåŒ…æ‹¬ä¿ç¨Žä»“åº“é€‰é¡¹å’Œæµ·å—è‡ªç”±è´¸æ˜“æ¸¯æ”¿ç­–ä¸‹çš„é›¶å…³ç¨Žå…¥å¢ƒã€‚',
    'At Hainan Jiangshuo Industrial Co., Ltd., we believe in bridging global quality with local opportunity. As a company rooted in the fast-growing Hainan Free Trade Port, we are committed to creating long-term, trustworthy partnerships between international brands and Chinese consumers.': 'åœ¨æµ·å—æ±Ÿç¡•å®žä¸šæœ‰é™å…¬å¸ï¼Œæˆ‘ä»¬ç›¸ä¿¡æž¶èµ·å…¨çƒå“è´¨ä¸Žæœ¬åœ°æœºé‡çš„æ¡¥æ¢ã€‚ä½œä¸ºä¸€å®¶æ‰Žæ ¹äºŽå¿«é€Ÿå‘å±•çš„æµ·å—è‡ªç”±è´¸æ˜“æ¸¯çš„å…¬å¸ï¼Œæˆ‘ä»¬è‡´åŠ›äºŽåœ¨å›½é™…å“ç‰Œå’Œä¸­å›½æ¶ˆè´¹è€…ä¹‹é—´å»ºç«‹é•¿æœŸã€å¯ä¿¡çš„åˆä½œä¼™ä¼´å…³ç³»ã€‚',
    
    // Service titles
    'Direct Import & Customs Clearance': 'ç›´æŽ¥è¿›å£ä¸Žæ¸…å…³',
    'Retail Distribution & Merchandising': 'é›¶å”®åˆ†é”€ä¸Žå•†å“é”€å”®',
    'Logistics Coordination': 'ç‰©æµåè°ƒ',
    'Localized Sales Strategy': 'æœ¬åœ°åŒ–é”€å”®ç­–ç•¥',
    'Brand Representation': 'å“ç‰Œä»£ç†',
    
    // Service descriptions
    'Your products will be displayed and sold at our physical retail space in Haikou, supported by in-store branding, customer service, and local promotions.': 'æ‚¨çš„äº§å“å°†åœ¨æˆ‘ä»¬ä½äºŽæµ·å£çš„å®žä½“é›¶å”®ç©ºé—´å±•ç¤ºå’Œé”€å”®ï¼Œå¹¶å¾—åˆ°åº—å†…å“ç‰ŒæŽ¨å¹¿ã€å®¢æˆ·æœåŠ¡å’Œæœ¬åœ°ä¿ƒé”€æ´»åŠ¨çš„æ”¯æŒã€‚',
    'We coordinate shipping, customs, warehousing, and last-mile delivery to ensure seamless supply chain operations.': 'æˆ‘ä»¬åè°ƒè¿è¾“ã€æ¸…å…³ã€ä»“å‚¨å’Œæœ€åŽä¸€å…¬é‡Œé…é€ï¼Œç¡®ä¿ä¾›åº”é“¾è¿è¥çš„æ— ç¼è¡”æŽ¥ã€‚',
    'We tailor product positioning, pricing, and marketing to suit the preferences of Hainan consumers and the domestic outdoor/lifestyle goods market.': 'æˆ‘ä»¬æ ¹æ®æµ·å—æ¶ˆè´¹è€…å’Œå›½å†…æˆ·å¤–/ç”Ÿæ´»æ–¹å¼ç”¨å“å¸‚åœºçš„åå¥½ï¼Œé‡èº«å®šåˆ¶äº§å“å®šä½ã€å®šä»·å’Œè¥é”€ç­–ç•¥ã€‚',
    'We act as your trusted local representative, ensuring your brand image and standards are maintained in all sales channels.': 'æˆ‘ä»¬ä½œä¸ºæ‚¨å€¼å¾—ä¿¡èµ–çš„æœ¬åœ°ä»£è¡¨ï¼Œç¡®ä¿æ‚¨çš„å“ç‰Œå½¢è±¡å’Œæ ‡å‡†åœ¨æ‰€æœ‰é”€å”®æ¸ é“ä¸­å¾—åˆ°ç»´æŠ¤ã€‚',
    
    // About page content
    'Who we are': 'æˆ‘ä»¬æ˜¯è°',
    'With direct access to China\'s most open policy zone, we specialize in making global products locally availableâ€”efficiently, compliantly, and with care. From premium consumer goods to niche outdoor brands, we work closely with partners to deliver long-term value through tailored go-to-market strategies.': 'å‡­å€Ÿç›´æŽ¥è¿›å…¥ä¸­å›½æœ€å¼€æ”¾æ”¿ç­–åŒºåŸŸçš„ä¼˜åŠ¿ï¼Œæˆ‘ä»¬ä¸“æ³¨äºŽè®©å…¨çƒäº§å“åœ¨å½“åœ°é«˜æ•ˆã€åˆè§„ã€è´´å¿ƒåœ°æä¾›ã€‚ä»Žä¼˜è´¨æ¶ˆè´¹å“åˆ°å°ä¼—æˆ·å¤–å“ç‰Œï¼Œæˆ‘ä»¬ä¸Žåˆä½œä¼™ä¼´å¯†åˆ‡åˆä½œï¼Œé€šè¿‡é‡èº«å®šåˆ¶çš„å¸‚åœºè¿›å…¥ç­–ç•¥æä¾›é•¿æœŸä»·å€¼ã€‚',
    
    // Company ethos section
    'Our company ethos': 'æˆ‘ä»¬çš„å…¬å¸ç†å¿µ',
    
    // Contact page content
    'Contact us': 'è”ç³»æˆ‘ä»¬',
    'Interested in working together? Fill out some info and we will be in touch shortly. We can\'t wait to hear from you!': 'æœ‰å…´è¶£åˆä½œå—ï¼Ÿå¡«å†™ä¸€äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¼šå¾ˆå¿«ä¸Žæ‚¨è”ç³»ã€‚æˆ‘ä»¬è¿«ä¸åŠå¾…åœ°æƒ³å¬åˆ°æ‚¨çš„æ¶ˆæ¯ï¼',
    'Visiting Address': 'è®¿é—®åœ°å€',
    'Hours': 'è¥ä¸šæ—¶é—´',
    'Haikou International Duty-Free City\nHainan, China 570312': 'æµ·å£å›½é™…å…ç¨ŽåŸŽ\nä¸­å›½æµ·å— 570312',
    'Mondayâ€“Friday\n10amâ€“6pm': 'å‘¨ä¸€è‡³å‘¨äº”\nä¸Šåˆ10ç‚¹è‡³ä¸‹åˆ6ç‚¹',
    
    // Navigation links
    'About': 'å…³äºŽæˆ‘ä»¬',
    'Contact': 'è”ç³»æˆ‘ä»¬',
    
    // Form elements
    'Submit': 'æäº¤',
    'First Name': 'åå­—',
    'Last Name': 'å§“æ°',
    'Email': 'ç”µå­é‚®ä»¶',
    'Phone': 'ç”µè¯',
    'Message': 'æ¶ˆæ¯',
    'Address Line 1': 'åœ°å€è¡Œ1',
    'Address Line 2': 'åœ°å€è¡Œ2',
    'City / Town': 'åŸŽå¸‚/åŸŽé•‡',
    'Postcode': 'é‚®æ”¿ç¼–ç ',
    'Country': 'å›½å®¶',
    'State/Province': 'å·ž/çœ',
    'Zip/Postal Code': 'é‚®æ”¿ç¼–ç ',
    
    // Validation messages
    'A valid selection must be made.': 'å¿…é¡»åšå‡ºæœ‰æ•ˆé€‰æ‹©ã€‚',
    'Must be a valid URL.': 'å¿…é¡»æ˜¯æœ‰æ•ˆçš„URLã€‚',
    'Value should have a length no longer than {0}.': 'å€¼çš„é•¿åº¦ä¸åº”è¶…è¿‡{0}ã€‚',
    'Email addresses should follow the format user@domain.com.': 'ç”µå­é‚®ä»¶åœ°å€åº”éµå¾ªuser@domain.comæ ¼å¼ã€‚',
    '{0} is required.': '{0}æ˜¯å¿…éœ€çš„ã€‚',
    'Please fill out at least one form field.': 'è¯·è‡³å°‘å¡«å†™ä¸€ä¸ªè¡¨å•å­—æ®µã€‚',
    'Captcha validation failed. Please try again.': 'éªŒè¯ç éªŒè¯å¤±è´¥ã€‚è¯·é‡è¯•ã€‚',
    'Unable to submit form. Please try again later.': 'æ— æ³•æäº¤è¡¨å•ã€‚è¯·ç¨åŽé‡è¯•ã€‚',
    'Invalid form data.': 'æ— æ•ˆçš„è¡¨å•æ•°æ®ã€‚',
    'Form submission failed. Review the following information: {0}.': 'è¡¨å•æäº¤å¤±è´¥ã€‚è¯·æŸ¥çœ‹ä»¥ä¸‹ä¿¡æ¯ï¼š{0}ã€‚'
  }
};

// Language management system
class LanguageManager {
  constructor() {
    this.currentLanguage = this.getStoredLanguage() || 'en';
    this.init();
  }
  
  init() {
    this.setupLanguagePicker();
    this.translatePage();
    this.updateLanguagePicker();
  }
  
  getStoredLanguage() {
    return localStorage.getItem('website-language') || 'en';
  }
  
  setStoredLanguage(lang) {
    localStorage.setItem('website-language', lang);
  }
  
  setupLanguagePicker() {
    // Setup desktop language picker
    const desktopPicker = document.getElementById('multilingual-language-picker-desktop');
    if (desktopPicker) {
      desktopPicker.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        this.toggleLanguagePicker();
      });
    }
    
    // Setup mobile language picker
    const mobilePicker = document.getElementById('multilingual-language-picker-mobile');
    if (mobilePicker) {
      const mobileLink = document.querySelector('[data-folder-id="language-picker"]');
      if (mobileLink) {
        mobileLink.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          this.toggleLanguagePicker();
        });
      }
    }
    
    // Create language options
    this.createLanguageOptions();
    
    // Close language picker when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.language-picker')) {
        this.hideLanguagePicker();
      }
    });
  }
  
  createLanguageOptions() {
    const languages = [
      { code: 'en', name: 'English', flag: 'ðŸ‡¬ðŸ‡§' },
      { code: 'zh', name: 'ä¸­æ–‡', flag: 'ðŸ‡¨ðŸ‡³' }
    ];
    
    // Desktop picker content
    const desktopContent = document.querySelector('#language-picker-menu');
    if (desktopContent) {
      desktopContent.innerHTML = languages.map(lang => 
        `<div class="language-option" data-lang="${lang.code}">
          <span class="flag">${lang.flag}</span>
          <span class="name">${lang.name}</span>
        </div>`
      ).join('');
      
      // Add click handlers
      desktopContent.querySelectorAll('.language-option').forEach(option => {
        option.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          const lang = option.dataset.lang;
          this.switchLanguage(lang);
          this.hideLanguagePicker();
        });
      });
    }
    
    // Mobile picker content
    const mobileContent = document.querySelector('#multilingual-language-picker-mobile .language-picker-content');
    if (mobileContent) {
      mobileContent.innerHTML = languages.map(lang => 
        `<div class="header-menu-nav-item">
          <a href="#" class="language-option" data-lang="${lang.code}">
            <div class="header-menu-nav-item-content">
              <span class="flag">${lang.flag}</span>
              <span class="name">${lang.name}</span>
            </div>
          </a>
        </div>`
      ).join('');
      
      // Add click handlers
      mobileContent.querySelectorAll('.language-option').forEach(option => {
        option.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          const lang = option.dataset.lang;
          this.switchLanguage(lang);
          this.hideLanguagePicker();
        });
      });
    }
  }
  
  toggleLanguagePicker() {
    const desktopContent = document.querySelector('#language-picker-menu');
    const mobileContent = document.querySelector('#multilingual-language-picker-mobile');
    
    if (desktopContent) {
      desktopContent.style.display = desktopContent.style.display === 'block' ? 'none' : 'block';
    }
    
    if (mobileContent) {
      mobileContent.style.display = mobileContent.style.display === 'block' ? 'none' : 'block';
    }
  }
  
  hideLanguagePicker() {
    const desktopContent = document.querySelector('#language-picker-menu');
    const mobileContent = document.querySelector('#multilingual-language-picker-mobile');
    
    if (desktopContent) {
      desktopContent.style.display = 'none';
    }
    
    if (mobileContent) {
      mobileContent.style.display = 'none';
    }
  }
  
  switchLanguage(lang) {
    if (lang === this.currentLanguage) return;
    
    console.log('Switching language from', this.currentLanguage, 'to', lang);
    
    this.currentLanguage = lang;
    this.setStoredLanguage(lang);
    
    // Update HTML lang attribute
    document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en-US';
    
    // Update meta tags
    this.updateMetaTags(lang);
    
    // Translate page content
    this.translatePage();
    
    // Update language picker display
    this.updateLanguagePicker();
    
    // Force re-render of language picker content
    this.createLanguageOptions();
  }
  
  updateMetaTags(lang) {
    const title = document.querySelector('title');
    if (title) {
      const currentTitle = title.textContent;
      const translatedTitle = this.translateText(currentTitle);
      if (translatedTitle !== currentTitle) {
        title.textContent = translatedTitle;
      }
    }
    
    // Update Open Graph tags
    const ogTitle = document.querySelector('meta[property="og:title"]');
    if (ogTitle) {
      const currentOgTitle = ogTitle.getAttribute('content');
      const translatedOgTitle = this.translateText(currentOgTitle);
      if (translatedOgTitle !== currentOgTitle) {
        ogTitle.setAttribute('content', translatedOgTitle);
      }
    }
  }
  
  translatePage() {
    // Translate all text content
    this.translateElements();
    
    // Translate form placeholders and labels
    this.translateForms();
    
    // Translate navigation
    this.translateNavigation();
    
    // Apply Chinese button styling
    this.applyChineseButtonStyling();
  }
  
  applyChineseButtonStyling() {
    // Apply different styling based on language
    const allButtons = document.querySelectorAll('.sqs-block-button-element--primary');
    allButtons.forEach(button => {
      this.setupButtonBaseStyles(button);
      
      if (this.currentLanguage === 'zh-CN') {
        this.applyChineseButtonColors(button);
      } else {
        this.applyEnglishButtonColors(button);
      }
    });
  }

  // Consolidated base button styles
  setupButtonBaseStyles(button) {
    button.style.backgroundColor = 'transparent !important';
    button.style.textDecoration = 'none !important';
    button.style.textDecorationLine = 'none !important';
    button.style.textDecorationStyle = 'none !important';
    button.style.textDecorationColor = 'transparent !important';
  }

  // Chinese button colors
  applyChineseButtonColors(button) {
    button.style.color = 'black !important';
    button.style.border = '1px solid black !important';
    
    button.addEventListener('mouseenter', function() {
      this.style.color = '#333 !important';
      this.style.backgroundColor = 'rgba(0, 0, 0, 0.1) !important';
      this.style.borderColor = '#333 !important';
    });
    
    button.addEventListener('mouseleave', function() {
      this.style.color = 'black !important';
      this.style.backgroundColor = 'transparent !important';
      this.style.borderColor = 'black !important';
    });
  }

  // English button colors
  applyEnglishButtonColors(button) {
    button.style.color = 'white !important';
    button.style.border = '1px solid white !important';
    
    button.addEventListener('mouseenter', function() {
      this.style.color = '#ccc !important';
      this.style.backgroundColor = 'rgba(255, 255, 255, 0.1) !important';
      this.style.borderColor = '#ccc !important';
    });
    
    button.addEventListener('mouseleave', function() {
      this.style.color = 'white !important';
      this.style.backgroundColor = 'transparent !important';
      this.style.borderColor = 'white !important';
    });
  }
  
  translateElements() {
    // Translate elements with data-translate="true" (flag-based translation)
    const elementsToTranslate = document.querySelectorAll('[data-translate="true"]');
    elementsToTranslate.forEach(element => {
      const originalText = element.textContent.trim();
      const translatedText = this.translateText(originalText);
      if (translatedText !== originalText) {
        // For links, preserve the href attribute and other attributes
        if (element.tagName === 'A') {
          const href = element.getAttribute('href');
          const target = element.getAttribute('target');
          const style = element.getAttribute('style');
          const onmouseover = element.getAttribute('onmouseover');
          const onmouseout = element.getAttribute('onmouseout');
          
          // Create new link with translated text but preserve all attributes
          element.textContent = translatedText;
          if (href) element.setAttribute('href', href);
          if (target) element.setAttribute('target', target);
          if (style) element.setAttribute('style', style);
          if (onmouseover) element.setAttribute('onmouseover', onmouseover);
          if (onmouseout) element.setAttribute('onmouseout', onmouseout);
          
          // Ensure the link remains clickable by re-adding event listeners if needed
          if (href && (href.includes('about.html') || href.includes('contact.html'))) {
            element.style.cursor = 'pointer';
            element.style.color = 'white';
            element.style.textDecoration = 'underline';
          }
        } else {
          element.textContent = translatedText;
        }
      }
    });
    
    // Translate elements with data-translate containing text (value-based translation)
    const elementsWithText = document.querySelectorAll('[data-translate]:not([data-translate="true"])');
    elementsWithText.forEach(element => {
      const originalText = element.getAttribute('data-translate');
      const translatedText = this.translateText(originalText);
      element.textContent = translatedText;
    });
    
    // Translate common text patterns (fallback for elements without data-translate)
    const textElements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, span, a, button, label');
    textElements.forEach(element => {
      // Skip if already has data-translate attribute
      if (element.hasAttribute('data-translate')) return;
      
      if (element.textContent.trim()) {
        const translatedText = this.translateText(element.textContent);
        if (translatedText !== element.textContent) {
          element.textContent = translatedText;
        }
      }
    });
  }
  
  translateForms() {
    // Translate form labels
    const labels = document.querySelectorAll('label');
    labels.forEach(label => {
      const translatedText = this.translateText(label.textContent);
      if (translatedText !== label.textContent) {
        label.textContent = translatedText;
      }
    });
    
    // Translate form placeholders
    const inputs = document.querySelectorAll('input[placeholder], textarea[placeholder]');
    inputs.forEach(input => {
      const translatedPlaceholder = this.translateText(input.placeholder);
      if (translatedPlaceholder !== input.placeholder) {
        input.placeholder = translatedPlaceholder;
      }
    });
    
    // Translate form buttons
    const buttons = document.querySelectorAll('button[value], input[type="submit"]');
    buttons.forEach(button => {
      const translatedValue = this.translateText(button.value);
      if (translatedValue !== button.value) {
        button.value = translatedValue;
      }
    });
  }
  
  translateNavigation() {
    // Translate navigation links
    const navLinks = document.querySelectorAll('.header-nav a, .header-menu-nav-item a');
    navLinks.forEach(link => {
      const translatedText = this.translateText(link.textContent);
      if (translatedText !== link.textContent) {
        link.textContent = translatedText;
      }
    });
    
    // Also handle bottom navigation links (About and Contact)
    const bottomNavLinks = document.querySelectorAll('a[href*="about.html"], a[href*="contact.html"]');
    bottomNavLinks.forEach(link => {
      const originalText = link.textContent.trim();
      const translatedText = this.translateText(originalText);
      if (translatedText !== originalText) {
        link.textContent = translatedText;
      }
      
      // Ensure navigation links are always functional
      this.ensureNavigationLinkFunctionality(link);
    });
  }
  
  ensureNavigationLinkFunctionality(link) {
    // Only apply styling to BOTTOM navigation links (in sqs-html-content)
    if (link.href && (link.href.includes('about.html') || link.href.includes('contact.html'))) {
      const isBottomNav = link.closest('.sqs-html-content');
      
      if (isBottomNav) {
        this.applyBottomNavStyling(link);
        this.setupNavigationAttributes(link);
        this.addNavigationHoverEffects(link);
      }
    }
  }

  // Consolidated styling function
  applyBottomNavStyling(link) {
    link.style.cursor = 'pointer';
    link.style.color = 'white';
    link.style.textDecoration = 'underline';
    link.style.transition = 'color 0.3s ease';
  }

  // Consolidated attribute setup
  setupNavigationAttributes(link) {
    if (!link.getAttribute('href')) {
      if (link.textContent.toLowerCase().includes('about')) {
        link.setAttribute('href', 'about.html');
      } else if (link.textContent.toLowerCase().includes('contact')) {
        link.setAttribute('href', 'contact.html');
      }
    }
    
    if (!link.getAttribute('target')) {
      link.setAttribute('target', '_blank');
    }
  }

  // Consolidated hover effects
  addNavigationHoverEffects(link) {
    link.addEventListener('mouseenter', function() {
      this.style.color = '#ccc';
    });
    
    link.addEventListener('mouseleave', function() {
      this.style.color = 'white';
    });
  }
  
  translateText(text) {
    if (!text || !translations[this.currentLanguage]) {
      return text;
    }
    
    const trimmedText = text.trim();
    
    // Direct match
    if (translations[this.currentLanguage][trimmedText]) {
      return translations[this.currentLanguage][trimmedText];
    }
    
    // Try to find partial matches for longer text
    for (const [key, value] of Object.entries(translations[this.currentLanguage])) {
      if (trimmedText.includes(key)) {
        return trimmedText.replace(key, value);
      }
    }
    
    // If no translation found, try reverse lookup for Chinese to English
    if (this.currentLanguage === 'en') {
      for (const [key, value] of Object.entries(translations['zh'])) {
        if (trimmedText === value) {
          return key;
        }
      }
    }
    
    return text;
  }
  
  updateLanguagePicker() {
    const currentLanguageName = this.currentLanguage === 'zh' ? 'ä¸­æ–‡' : 'English';
    const currentLanguageElements = document.querySelectorAll('.current-language-name');
    
    currentLanguageElements.forEach(element => {
      element.textContent = currentLanguageName;
    });
  }
}

// Initialize language manager when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  window.languageManager = new LanguageManager();
  
  // Ensure navigation links work immediately
  ensureNavigationLinksWork();
});

// Function to ensure navigation links work immediately
function ensureNavigationLinksWork() {
  // Only target BOTTOM navigation links (in sqs-html-content)
  const navLinks = document.querySelectorAll('.sqs-html-content a[href*="about.html"], .sqs-html-content a[href*="contact.html"]');
  navLinks.forEach(link => {
        // Force styling and functionality for bottom navigation only
        link.style.cursor = 'pointer';
        link.style.color = 'white';
        link.style.textDecoration = 'underline';
        link.style.transition = 'color 0.3s ease';
    
    // Ensure attributes are set
    if (!link.getAttribute('target')) {
      link.setAttribute('target', '_blank');
    }
    
    // Add hover effects
    link.addEventListener('mouseenter', function() {
      this.style.color = '#ccc';
    });
    
    link.addEventListener('mouseleave', function() {
      this.style.color = 'white';
    });
    
    // Ensure click functionality
    link.addEventListener('click', function(e) {
      // Allow default behavior (navigation)
      console.log('Bottom navigation link clicked:', this.href);
    });
  });
}

// Also initialize if DOM is already loaded
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', () => {
    if (!window.languageManager) {
      window.languageManager = new LanguageManager();
    }
  });
} else {
  if (!window.languageManager) {
    window.languageManager = new LanguageManager();
  }
}

// Export for use in other scripts
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { translations, LanguageManager };
}
